\sectionthree{Fermat factorization}
\begin{python0}
from solutions import *; clear()
\end{python0}
This method uses that if we can express a number as the difference of two squares, we can easily factor it.

Suppose we want to factorize a number $n$ and we know that $n$ can be written as a difference of two squares:
\begin{equation}
n = x^2 - y^2
\end{equation}

Then we immediately know that:
\begin{equation}
n = (x + y)(x - y)
\end{equation}

This gives us a factorization of $n$. Of course, if $x - y = 1$, then this factorization becomes $n = n \times 1$, which is not helpful.

To achieve our goal of writing $n$ as a difference of squares, we can use a systematic approach:
\begin{itemize}
\item Check if $1^2 - n$ is a square.
\item Check if $2^2 - n$ is a square.
\item Check if $3^2 - n$ is a square.
\item And so on...
\end{itemize}

Why does this work? Because if $x^2 - n$ is a square, say $y^2$, then we have $x^2 - n = y^2$, which gives us:
\begin{equation}
n = x^2 - y^2
\end{equation}

An interesting observation is that if $n = ab$ is odd (which is the case for an RSA modulus), then we can always write $n$ as a difference of two squares since:
\begin{equation}
n = \left(\frac{a+b}{2}\right)^2 - \left(\frac{a-b}{2}\right)^2
\end{equation}




% http://www.ams.org/journals/mcom/1999-68-228/S0025-5718-99-01133-3/home.html

\input{exercises/rsa-42/main.tex}
\input{exercises/rsa-43/main.tex}
