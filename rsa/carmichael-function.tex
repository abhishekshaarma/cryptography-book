\sectionthree{Carmichael function}
\begin{python0}
from solutions import *; clear()
\end{python0}

\textbf{Definition 1.12.1.}  The \emph{multiplicative order} of $a$ mod $n$ (if it exists) is the smallest positive integer $k$ such that
\[
  a^k \equiv 1 \pmod n.
\]
Not every $a$ has an order (e.g.\ $0^k\not\equiv1\pmod n$).  Recall Eulerâ€™s theorem: if $\gcd(a,n)=1$, then
\[
  a^{\varphi(n)} \equiv 1 \pmod n.
\]
But $\varphi(n)$ is not always minimal.

\medskip
\noindent\textbf{Definition 1.12.2.}  The \emph{Carmichael function} $\lambda(n)$ is the least common multiple of the orders of all $a\in\{1,2,\dots,n\}$ with $\gcd(a,n)=1$.

\medskip
\noindent\textbf{Theorem 1.12.1.}
\begin{enumerate}
  \item If $\gcd(m,n)=1$, then $\lambda(mn)=\mathrm{lcm}\bigl(\lambda(m),\lambda(n)\bigr)$.
  \item If $p$ is prime and $k\ge1$, then
    \[
      \lambda(p^k)=
      \begin{cases}
        p^{k-1}(p-1), & p>2,\\[6pt]
        1, & p=2,\;k=1,\\[4pt]
        2, & p=2,\;k=2,\\[4pt]
        2^{k-2}, & p=2,\;k\ge3.
      \end{cases}
    \]
\end{enumerate}

\medskip
\noindent\textbf{Theorem 1.12.2.}
\begin{enumerate}
  \item If $\gcd(a,n)=1$ and $a^k\equiv1\pmod n$, then $k\mid\lambda(n)$.
  \item If $a^k\equiv1\pmod n$ for all $\gcd(a,n)=1$, then $\lambda(n)\mid k$.
  \item $\lambda(n)\mid\varphi(n)$.
\end{enumerate}
